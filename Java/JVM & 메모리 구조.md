# JVM & 메모리 구조

--------

### What is JVM

---------------
### JVM의 특징
1. 시스템 메모리를 관리하고 Java 기반 애플리케이션을 위한 휴대용 실행 환경을 관리한다
2. 다른 프로그램을 실행하는데 목적을 둔 프로그램이다

### JVM의 기능
1. 어느 장치나 OS에서도 자바 프로그램이 실행될 수 있게 한다
2. 프로그램 메모리를 관리하고 최적화한다

### 자바 프로그램의 실행과정
1. 프로그램이 실행되면 JVM은 OS로부터 이 프로그램이 필요로 하는 메모리를 할당받는다.<br>
JVM은 이 메모리를 용도에 따라 여러 영역으로 나눠 관리한다.
2. 자바 컴파일러가 자바 소스코드를 읽어들여 자바 바이트코드로 변환시킨다.
3. Class Loader를 통해 class파일들을 JVM으로 로딩한다.
4. 로딩된 class 파일들은 Execution engine을 통해 해석된다.
5. 해석된 바이트코드는 Runtime Data Area에 배치되어 실질적인 수행이 이루어지게 된다.

### JVM의 구성
![](https://raw.githubusercontent.com/GimunLee/tech-refrigerator/master/Language/JAVA/resources/java-jvm-01.png)

* ### Class Loader(클래스 로더)
    * JVM내로 클래스 파일들을 로드하고, 링크를 통해 배치하는 작업을 수행한다.<br>
    * jar파일 내 저장된 클래스들을 JVM위에 탑재하고 사용하지 않는 클래스들은 메모리에서 삭제한다.
    * 컴파일 타임이 아니라 런타임에 참조한다. 
* ### Execution Engine(실행 엔진)
    * 클래스를 실행시키는 역할
    * 바이트코드를 실제로 JVM내부에서 기계가 실행할 수 있는 형태로 변환 (이때 2가지 방식을 사용한다)
    * ### Interpreter(인터프리터)
        * Execution Engine은 자바 바이트 코드를 명렁어 단위로 읽어서 실행한다.
        * 한 줄 씩 수행하기 때문에 느리다는 단점이 있다.
    * ### JIT(Just-In-Time)
        * 인터프리터의 단점을 보완하기 위해 도입된 컴파일러다.
        * 인터프리터 방식으로 실행하다가 적절한 시점에 네이티브 코드로 변경하고, 이후에는 네이티브 코드로 직접 실행하는 방식
        * 
