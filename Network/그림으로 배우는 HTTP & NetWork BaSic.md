# 그림으로 배우는 HTTP & NetWork BaSic

- [1장 웹과 네트워크의 기본에 대해 알아보자](#웹과-네트워크의-기본에-대해-알아보자)
  - [웹은 HTTP로 나타낸다](##1.1 웹은-HTTP로-나타낸다)
  - [HTTP는 이렇게 태어나고 성장했다](##1.2 HTTP는-이렇게-태어나고-성장했다)
  
# 웹과 네트워크의 기본에 대해 알아보자

## 1.1 웹은 HTTP로 나타낸다
- 웹 브라우저 입력란에 URL을 입력하면 웹 페이지는 어떻게 보여질까?
- 물론 이 과정을 모르더라도 문제없이 웹 페이지를 볼 수 있다.
- 웹 브라우저는 지정된 URL에 의해 웹 서버로부터 파일등의 정보를 얻는다
  - 이 때, 서버에 의뢰를 하는 웹 브라우저를 `클라이언트`(Client)라고 한다.
- 클라이언트에서 서버까지 일련의 흐름을 결정하는 것을 HTTP(HyperText Transfer Protocol)이라고 한다.

## 1.2 HTTP는 이렇게 태어나고 성장했다
##### 1.2.1 웹은 지식 공유를 위해 고안되었다.
- CREN의 팀 버너스 리 박사는 떨어져있는 연구자와 지식을 공용하게 할 수 있도록 시스템을 고안했다.
- 최초로 고안한 것은 하이퍼텍스트에 의해 상호간에 참조할 수 있는 WWW의 기본 개념이 되는것이었습니다.
- WWW를 구성하는 기술로서, 문서 기술 언어로는 HTML, 문서 전송 프로토콜은 HTTP, 문서의 주소를 지정하는 방법은 URL 3가지가 제안되었다.

##### 1.2.2 웹이 성장한 시대
- 1990년 11월 CREN에서 세계 최초의 웹 서버와 웹 브라우저가 개발되었고 그로부터 3년 뒤 대한민국 최초의 홈페이지가 개발되었다.
  - http:/cair.kaist.ac.kr
- 1993년 1월에는 NCSA에서 현재 사용하는 웹 브라우저의 선조라 말할 수 있는 모자이크(Mosaic)를 개발했다.
- 1994년 12월에 넷스케이프(Netscape)사에서 넷스케이프 내비게이터(Navigator) 1.0을 출시하고
- 1995년에는 마이크로소프트사에서 인터넷 익스플로어 1.0과 2.0을 출시했다.
- 2004년 모질라 파이어폭스(Mozila Firefox) 출시와 함께 제 2차 브라우저 전쟁에 돌입하게 된다.

##### 1.2.3 진보 안하는 HTTP
- HTTP/0.9
  - HTTP가 등장한 때는 1990년인데, 이 당시 등장한 HTTP는 1.0 이전이라는 의미에서 HTTP/0.9라고 불린다.
- HTTP/1.0
  - HTTP가 정식 사양으로 공개된 것은 1996년 5월이었다.
  - RFC1945가 발행되었다.
  - 초기 사양이지만 현재까지도 많은 서버상에서 현역으로 가동되고 있는 사양이다.
- HTTP/1.1
  - 1997년 1월에 공개되었고 현재 가장 많이 사용된다.
  - 그 당시 사양은 RFC2068이지만 개정판으로 RFC2616이 최신 버전이다.

- HTTP는 등장 당시에는 텍스트를 주로 전송하기 위함이었지만, 프로토콜 자체가 심플해서 여러 기능이 계속해서 추가되었다.
- 지금은 웹이라는 틀을 넘어서 다양하게 사용되는 프로토콜이다.

## 1.3 네트워크의 기본은 TCP/IP
- HTTP를 이해하기 위해선 TCP/IP를 알고 있어야 한다.
- 네트워크는 TCP/IP라는 프로토콜에서 움직이고 있다.
- HTTP는 TCP/IP 중 하나이다.

##### 1.3.1 TCP/IP는 프로토콜의 집합
- 컴퓨터와 네트워크 기기가 상호간 통신을 하기 위해선 같은 방법으로 통신해야한다.
- 어떻게 상대를 찾고, 어떤 언어로 이야기를 할지에 대한 규칙을 프로토콜이라고 부른다.
- 프로토콜의 종류는 다양하고 이런 프로토콜을 모은 것이 TCP/IP다.

##### 1.3.2 계층으로 관리하는 TCP/IP
- TCP/IP는 애플리케이션 계층, 트랜스포트 계층, 네트워크 계층, 링크 계층 4가지로 나뉘어 있다.
- 계층화된 것은 메리트가 있기 때문이다.
  - 계층화되어 있으면 사양이 변경된 해당 계층만 바꾸면 된다.
  - 설계를 편하게 할 수 있다. 
- `애플리케이션 계층`
  - 유저에게 제공되는 애플리케이션에서 사용하는 통신의 움직임을 결정
  - FTP, DNS, HTTP 등을 포함
- `트랜스포트 계층`
  - 애플리케이션 계층에 네트워크로 접속되어 있는 2대의 컴퓨터 사이의 데이터 흐름을 제공
  - TCP와 UDP 등을 포함
- `네트워크 계층`
  - 네트워크 상에서 패킷의 이도을 다룬다.
  - 어떠한 경로를 거쳐 상대 컴퓨터까지 패킷을 보낼지를 결정하기도 한다.
- `링크 계층`
  - 네트워크에 접속하는 하드웨어적인 면을 다룬다.
  - 디바이스 드라이버, 네트워크 인터페이스 카드(NIC), 케이블 등과 같이 물리적으로 보이는 부분도 포함
  - 하드웨어적 측면은 모두 링크 계층

##### 1.3.3 TCP/IP 통신의 흐름
![image](https://user-images.githubusercontent.com/109537583/206857173-ad271002-05a1-4a04-869e-f3d78e906417.png)
- 송신측은 애플리케이션 계층에서부터 내려가고, 수신측은 애플리케이션 계층으로 올라간다.
  1) 송신측 클라이언트의 애플리케이션 계층에서 웹 페이지를 보고싶다는 HTTP Request를 지시한다.
  2) 트랜스포트 계층에서는 받은 HTTP 메시지를 통신하기 쉽게 조각내어 포트 번호를 붙여 네트워크 계층에 전달한다.
  3) 네트워크 계츠에서는 수신지 MAC 주소를 추가하여 링크 계층에 전달한다.
  4) 수신측 서버는 링크 계층에서 데이터를 받아들여 순서대로 위의 계층에 전달한다.

![image](https://user-images.githubusercontent.com/109537583/206857314-fff31bd4-366b-4b54-a0bb-2167433d7968.png)
- 각 계층을 거칠 때는 반드시 헤더로 불리는 해당 계층마다 해당 계층에 필요한 정보를 추가한다.
- 반대로 수신측에선, 각 계층을 거칠 때마다 반드시 헤더를 삭제한다.
- 이렇게 정보를 감싸는 것을 `캡슐화`라고 한다.

## 1.4 HTTP와 관계가 깊은 프로토콜은 IP/TCP/DNS

##### 1.4.1 배송을 담당하는 IP
- IP는 프로토콜의 명칭으로 매우 중요한 프로토콜이다.
- IP 주소는 각 노드에 부여된 주소를 가리키고 MAC 주소는 각 네트워크 카드에 할당된 고유 주소다.
- IP 주소는 변경 가능하지만, MAC 주소는 변경할 수 없다.
- ARP(Address Resolution Protocol)
  - IP 통신은 MAC 주소에 의존해서 통신을 한다.
  - ARP는 주소를 해결하기 위한 프로토콜 중 하나인데, 수신지의 IP 주소를 바탕으로 MAC 주소를 조사할 수 있다.

##### 1.4.2 신뢰성을 담당하는 TCP
- TCP는 신뢰성 있는 바이트 스트림 서비스를 제공한다.
- 바이트 스트림은 용량이 큰 데이터를 TCP 세그먼트라는 단위 패킷으로 분해하는 것이고, 신뢰성 있는 서비스는 상대방에게 보내는 것을 의미한다.
- 즉, 대용량의 데이터를 보내기 쉽게 분해하여 보내고, 정확하게 도착했는지 확인하는 역할을 담당한다.
- `3way handshake`
  - ![image](https://user-images.githubusercontent.com/109537583/206857709-70d2c9e5-8f4c-41ea-a631-e75e1369dad6.png)
  - 송신측에서는 최초 SYN 플래그로 상대에게 접속함과 동시에 패킷을 보낸다.
  - 수신측에서는 SYN/ACK 플래그로 송신측에 접속함과 동시에 패킷을 수신한 사실을 전한다.
  - 마지막으로 송신측이 ACK 플래그를 보내 패킷 교환이 완료되었음을 전한다.
  - 이 과정에서 도중에 통신이 끊어지면 TCP는 같은 수순으로 패킷을 재전송한다.

## 1.5 이름 해결을 담당하는 DNS
- DNS는 HTTP와 같이 응용 계층 시스템에서 도메인 이름과 IP 주소 이름 확인을 제공한다.
- `www.hackr.jp`와 같이 IP 주소와는 별도로 호스트 이름과 도메인 이름을 붙일 수 있다.
- DNS는 도메인명에서 IP 주소를 조사하거나 반대로 IP 주소로부터 도메인명을 조사하는 서비스를 제공하고 있다.

## 1.6 각각과 HTTP와의 관계
![image](https://user-images.githubusercontent.com/109537583/206857935-00dc3cee-7da9-4c46-819c-3ae9384ece1e.png)

## 1.7 URI와 URL
- `http://www.google.co.kr`처럼 웹 페이지를 표시하기 위해 입력하는 주소가 URL

##### 1.7.1 URI는 리소스 식별자
- URI는 스키마를 나타내는 리소스를 식별하기 위한 식별자이다.
- 스키마는 리소스를 얻기 위한 수단에 이름을 붙이는 방법이다.
- URI는 리소스를 식별하기 위해 문자열의 전반을 나타내는데 그에 비해 URL은 리소스의 장소를 나타낸다.
- URL은 URI의 서브셋이다.

##### 1.7.2 URL 포맷
- URI는 완전 수식 절대 URI 혹은 완전 수식 절대 URL과 브라우저 중의 기본 URI에서 상대적 위치를 저장하는 상대 URL이 있다.
- ![image](https://user-images.githubusercontent.com/109537583/206858149-8c9d974d-ba25-4655-a097-f0a682185cf5.png)
- 자격정보
  - 서버로부터 리소스를 취득하기 위해 필요하다.
  - 유저명과 패스워드를 지정할 수 있다.
- 서버 주소
  - 완전 수식 형식인 URI에선 서버 주소를 지정할 필요가 있다.
  - DNS 이름이나 `192.168.1.1`과 같은 IPv4 주소나 `[0:0:0:0:0:0:0:1"]`과 같은 IPv6 주소를 대괄호로 묶어서 지정한다.
- 서버 포트
  - 서버의 접속 대상이 되는 네트워크 포트 번호를 지정한다.
  - 생략하면 Default Port가 사용된다.
- 계층적 파일 패스
  - 특정 리소스를 식별하기 위해 서버 상의 파일 패스를 지정한다.
- 쿼리 문자열 
  - 파일 패스로 지정된 리소스에 임의의 파라미터를 넘겨주기 위해 쿼리 문자열을 사용한다.
  - 옵션이다.
- 프래그먼트 식별자
  - 주로 취득한 리소스에서 서브 리소스를 가리키기 위해서 사용된다.
  - 옵션이다.
